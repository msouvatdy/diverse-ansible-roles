$script = <<-SCRIPT
sudo apt update -y
sudo apt install git ansible vim -y
sudo mkdir -p /etc/ansible
sudo echo "debian" >> /etc/ansible/hosts
git clone https://github.com/msouvatdy/diverse-ansible-roles.git

mkdir /home/vagrant/.ssh
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC39uu2y6uZZWQ3FM6VhsVJzk7DXar9RCDB/N3iBMj5llTz+J24KTjtJC+usNAs6jctqA0d/73cRJQIro7y6EzOprq6gqPx2ipxnYs/qoi5wTUtZSpUz6aOn/X9Cau6IGs1gV190L+ZYCKEyTPNy195ZZGvBz9uaUOaOSvhtQek/KBDNEKZ0IHpiyHVzVIjdKskX1eNRmry9Bt57XxROr105xof4Y0nlKxlMsZ7dRYHQ8mSldS1/l1C9Uc4pBx7oP+UZrepRaIepDU/tyD2mQ7YDQJ9BYtjHOM8LQF0kIdJjRqHv1UTBHJeAZceaZ/81daKxKDa/IeT89cZzSEkePAzHJ05danP7O9iaEKB+B8uCfkQBYlfEaxfLY1fqOVelwy8QRuWzA2TYP6QM8OCc1ZmeorSMW2DXMZ2wG27iqDYdy3WkvlmKQBK/hDY49o6oayYfiv7Cc4BSfUQNlKE3SQIqY6VIdL6HfngFaK5frw8MEqUU/lSal4Kve9/ru+WC98= root@masteragora" >> /home/vagrant/.ssh/authorized_keys

echo "-----BEGIN OPENSSH PRIVATE KEY-----
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
-----END OPENSSH PRIVATE KEY-----
" > /home/vagrant/.ssh/id_rsa

chmod 600 /home/vagrant/.ssh/id_rsa
SCRIPT

Vagrant.configure("2") do |config|
	config.vm.provision "shell", inline: $script
	config.vm.boot_timeout = 1000
	config.vm.define "debian" do |debian|
		debian.vm.box = "bento/debian-11"
		debian.vm.hostname= "debian"
		debian.vm.network "private_network", ip: "10.10.20.222"
		debian.vm.provider "virtualbox" do |v|
			v.memory = 8192
			v.cpus = 2
			v.name = "debian"
		end
	end
end